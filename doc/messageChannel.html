<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  let channel1 = new MessageChannel()
  let port1 = channel1.port1
  let port2 = channel1.port2
  port1.onmessage = function (event){
    console.log('port1 收到来自port2的数据',event.data)
  }
  port2.onmessage = function (event){
    console.log('port2 收到来自port1的数据',event.data)
  }
  port1.postMessage('发送给port2')
  port2.postMessage('发送给port1')

</script>
</body>
</html>
